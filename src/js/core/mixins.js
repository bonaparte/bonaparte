var objct = require("objct");

///////////////////////////////////////////////////////////////////////////////
// Setup

var registeredMixins = {};

///////////////////////////////////////////////////////////////////////////////
// Public

module.exports = mixins;

///////////////////////////////////////////////////////////////////////////////
function mixins(){
///////////////////////////////////////////////////////////////////////////////
// Setup

  var tag = this;
  registeredMixins[tag.tagName] = registeredMixins[tag.tagName] || [];
  new objct.extend(tag, registeredMixins[tag.tagName]);

///////////////////////////////////////////////////////////////////////////////
// Public

  this.mixin = mixin;

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

  function mixin(mixin){
    if( typeof mixin !== "function" ) throw "Unexpected type of "+(typeof mixin)+"! Expected function.";

    // Save mixin
    registeredMixins[tag.tagName].push(mixin);

    // apply mixin to current tag.
    new objct.extend(tag, mixin);

  }

///////////////////////////////////////////////////////////////////////////////

}