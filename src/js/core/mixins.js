var objct = require("objct");

///////////////////////////////////////////////////////////////////////////////

module.exports = mixins;

///////////////////////////////////////////////////////////////////////////////

var registeredMixins = {};

///////////////////////////////////////////////////////////////////////////////

function mixins(){
  var tag = this;
  registeredMixins[tag.tagName] = registeredMixins[tag.tagName] || [];

  tag.mixin = mixin;

  new objct.extend(tag, registeredMixins[tag.tagName]);

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

  function mixin(mixin){
    if( typeof mixin !== "function" ) throw "Unexpected type of "+(typeof mixin)+"! Expected function.";

    // Save mixin
    registeredMixins[tag.tagName].push(mixin);

    // apply mixin to current tag.
    new objct.extend(tag, mixin);

  }

///////////////////////////////////////////////////////////////////////////////

}