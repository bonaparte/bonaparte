var objct = require("objct");

///////////////////////////////////////////////////////////////////////////////

module.exports = mixins;

///////////////////////////////////////////////////////////////////////////////

var mixins = {};

///////////////////////////////////////////////////////////////////////////////

function mixins(){
  var tag = this;
  mixins[tag.tagName] = mixins[tag.tagName] || [];

  tag.mixin = mixin;

  new objct.extend(tag, mixins[tag.tagName]);

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

  function mixin(mixin){
    if( typeof mixin !== "function" ) throw "Unexpected type of "+(typeof mixin)+"! Expected function.";

    // Save mixin
    mixins[tag.tagName].push(mixin);

    // apply mixin to current tag.
    new objct.extend(tag, mixin);

  }
}