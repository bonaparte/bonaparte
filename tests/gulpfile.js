var gulp         = require('gulp');
var less         = require("gulp-less");
var autoprefixer = require("gulp-autoprefixer");

///////////////////////////////////////////////////////////////////////////////

gulp.task("default", ["watch"]);
gulp.task("less", css);
gulp.task("watch", ["less"], watch);

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

function css(){
  return gulp.src('./less/**/*.less')
    .pipe(less())
    .pipe(autoprefixer())
    .pipe(gulp.dest('./css/')); 
}

///////////////////////////////////////////////////////////////////////////////

function server(){
  spawn('python', ['-m', "SimpleHTTPServer", "8001"]);
}


///////////////////////////////////////////////////////////////////////////////

function watch(){
  gulp.watch(["./less/**/*.less"], ["less"]);
};
